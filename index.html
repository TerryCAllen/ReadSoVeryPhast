<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Read So Very Phast</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Help Icon (top-left, only when paused) -->
    <div id="helpIcon" class="help-icon hidden">?</div>

    <!-- Settings Menu Icon -->
    <div id="settingsIcon" class="settings-icon">☰</div>

    <!-- Settings Panel (hidden by default) -->
    <div id="settingsPanel" class="settings-panel hidden">
        <div class="settings-header">
            <h2>Settings</h2>
            <button id="closeSettings" class="close-button">×</button>
        </div>
        <div class="settings-content">
            <div class="setting-group">
                <label for="wpmSetting">Words Per Minute (WPM)</label>
                <input type="number" id="wpmSetting" min="50" max="1000" step="10" value="200">
            </div>
            <div class="setting-group">
                <label for="wpmIncrementSetting">WPM Increment</label>
                <input type="number" id="wpmIncrementSetting" min="1" max="100" step="1" value="5">
            </div>
            <div class="setting-group">
                <label for="wordFontSizeSetting">Word Display Font Size (px)</label>
                <input type="number" id="wordFontSizeSetting" min="40" max="150" step="10" value="80">
            </div>
            <div class="setting-group">
                <label for="paragraphFontSizeSetting">Paragraph Font Size (px)</label>
                <input type="number" id="paragraphFontSizeSetting" min="12" max="24" step="2" value="16">
            </div>
            <div class="setting-group">
                <label for="themeToggle">Theme</label>
                <select id="themeToggle" class="theme-select">
                    <option value="dark">Dark Mode (Amber)</option>
                    <option value="light">Light Mode (Blue)</option>
                </select>
            </div>
            <button id="saveSettings" class="save-button">Save Settings</button>
            <button id="loadNewTextButton" class="load-new-text-button">Load New Text</button>
        </div>
    </div>

    <!-- Help Panel (hidden by default) -->
    <div id="helpPanel" class="help-panel hidden">
        <div class="help-header">
            <h2>How to Use</h2>
            <button id="closeHelp" class="close-button">×</button>
        </div>
        <div class="help-content">
            <h2 class="help-title"><span class="rsvp-letter">R</span>ead <span class="rsvp-letter">S</span>o <span class="rsvp-letter">V</span>ery <span class="rsvp-letter">P</span>hast</h2>
            
            <h3>Getting Started</h3>
            <p>• Click "Load Text" to paste your content<br>
            • Press Play (center) or Space to start reading</p>
            
            <h3>Touch/Click Controls</h3>
            <p>• <strong>Center:</strong> Play/Pause<br>
            • <strong>Up:</strong> Speed up (reading) / Scroll up (paused)<br>
            • <strong>Down:</strong> Slow down (reading) / Scroll down (paused)<br>
            • <strong>Left:</strong> Jump to sentence start / Previous sentence<br>
            • <strong>Right:</strong> Next sentence</p>
            
            <h3>Keyboard Shortcuts</h3>
            <p>• <strong>Space:</strong> Play/Pause<br>
            • <strong>↑:</strong> Increase speed<br>
            • <strong>↓:</strong> Decrease speed<br>
            • <strong>←:</strong> Previous/restart sentence<br>
            • <strong>→:</strong> Next sentence</p>
            
            <p style="margin-top: 20px; padding-top: 15px; border-top: 1px solid var(--color-text-dim);">
            Click <strong>☰</strong> for settings (WPM, theme, font size)</p>
        </div>
    </div>

    <!-- Text Input Panel (hidden by default) -->
    <div id="textInputPanel" class="text-input-panel hidden">
        <div class="text-input-header">
            <h2>Load Text</h2>
            <button id="closeTextInput" class="close-button">×</button>
        </div>
        <div class="text-input-content">
            <textarea id="textInputArea" placeholder="Paste your text here..."></textarea>
            <button id="loadTextButton" class="load-button">Load Text</button>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="appContainer" class="app-container">
        
        <!-- Top Section: Word Display -->
        <div id="wordDisplay" class="word-display">
            <div id="currentWord" class="current-word"></div>
        </div>

        <!-- Middle Section: Paragraph Display -->
        <div id="paragraphDisplay" class="paragraph-display">
            <div id="paragraphContent" class="paragraph-content"></div>
        </div>

        <!-- Bottom Section: Controls -->
        <div id="controlsArea" class="controls-area">
            <!-- Up Control -->
            <div id="controlUp" class="control-region control-up">
                <span class="control-icon">▲</span>
            </div>

            <!-- Left Control -->
            <div id="controlLeft" class="control-region control-left">
                <span class="control-icon">◄</span>
            </div>

            <!-- Center Play/Pause Button -->
            <div id="controlCenter" class="control-region control-center">
                <span id="playPauseIcon" class="control-icon">▶</span>
            </div>

            <!-- Right Control -->
            <div id="controlRight" class="control-region control-right">
                <span class="control-icon">►</span>
            </div>

            <!-- Down Control -->
            <div id="controlDown" class="control-region control-down">
                <span class="control-icon">▼</span>
            </div>

            <!-- Speed Display -->
            <div id="speedDisplay" class="speed-display">200 WPM</div>
            
            <!-- Progress Stats Display (shown when paused) -->
            <div id="progressStats" class="progress-stats hidden">
                <div id="progressLine1">Word 0 of 0 (0%)</div>
                <div id="progressLine2">Est. Time: 0 minutes</div>
            </div>
        </div>

        <!-- No Text Loaded Message -->
        <div id="noTextMessage" class="no-text-message">
            <p>No text loaded.</p>
            <button id="loadTextPrompt" class="load-text-prompt">Load Text</button>
        </div>
    </div>

    <!-- JavaScript Modules -->
    <script src="storage.js"></script>
    <script src="textProcessor.js"></script>
    <script src="reader.js"></script>
    <script src="controls.js"></script>
    <script src="settings.js"></script>
    <script src="main.js"></script>
</body>
</html>